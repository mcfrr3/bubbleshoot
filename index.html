<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Bubble Shooter</title>
	<script src="_js/headjs/dist/1.0.0/head.js"></script>
	<script>
		head.load([
			{jquery : "_js/jquery-3.1.0.js"},
			{modernizr : "_js/modernizr.js"}
		]);
		head.load(
			"_css/main.css",
			"_css/game.css"
		);
		
		/*function start() {
			toast(
				'_js/game.js',
				'_js/ui.js',
				'_js/bubble.js',
				'_js/board.js',
				'_js/collision-detector.js',
				'_js/jquery.kaboom.js',
				function () {
					$(function () {
						var game = new BubbleShoot.Game();
						game.init();
					})
				}
			);
		}*/
		
		//window.onload = start;
	</script>
</head>
<body>
	<div id="page">
		<div id="top_bar">
			<div id="top_level_box" class="top_bar_box">
				<div id="top_level_label">Level:</div>
				<div id="level">1</div>
			</div>
			<div class="top_bar_box">
				<div id="score_label">Score:</div>
				<div id="score">0</div>
			</div>
			<div class="top_bar_box">
				<div id="top_score_label">High Score:</div>
				<div id="high_score">0</div>
			</div>
		</div>
		<div id="game">
			<div id="board"></div>
			<div id="bubbles_remaining"></div>
		</div>
		<div id="footer_bar"></div>
		
		<div id="start_game" class="dialog">
			<div id="start_game_message">
				<h2>Start a new game</h2>
			</div>
			<div class="but_start_game button">
				New Game
			</div>
		</div>
		<div id="end_game" class="dialog">
			<div id="end_game_message">
				<h2>Game Over</h2>
				<div id="final_score">
					<span>Final Score:</span>
					<span id="final_score_value"></span>
				</div>
				<div id="new_high_score">New High Score!</div>
				<div id="level_failed" class="level_failed">Level Failed!</div>
				<div id="level_complete" class="level_complete">Level Complete!</div>
			</div>
			<div class="but_start_game button">
				<span class="level_complete">Next Level</span>
				<span class="level_failed">New Game</span>
			</div>
		</div>
	</div>
	
	<script>
		head.ready(["jquery", "modernizr"], function () {
			head.load([
				'_js/game.js',
				'_js/ui.js',
				'_js/bubble.js',
				'_js/board.js',
				'_js/collision-detector.js',
				'_js/jquery.kaboom.js'
			],
			function () {
				$(function () {
					var game = new BubbleShoot.Game();
					game.init();
				});
			});
			
			head.test({
				test : Modernizr.canvas,
				success : ["_js/renderer.js", "_js/sprite.js"],
				callback : function () {
					if(Modernizr.canvas){
						console.log("Canvas Support Detected!");
					}else{
						console.log("Canvas Support Not Detected!");
					}
				}
			});
			
		});
	</script>
</body>
</html>